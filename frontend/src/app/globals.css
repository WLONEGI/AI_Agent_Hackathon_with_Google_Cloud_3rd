@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Design Specification Compliant Color System */
    --color-bg-primary: #1a1a1a;      /* Deep black background */
    --color-bg-secondary: #141414;    /* Card background */
    --color-bg-tertiary: #1f1f1f;     /* Input area background */
    --color-bg-accent: #373737;       /* Hover states */
    
    /* Typography Colors */
    --color-text-primary: #ffffff;    /* Main text */
    --color-text-secondary: #a1a1aa;  /* Sub text */
    --color-text-tertiary: #71717a;   /* Placeholder/muted */
    --color-text-muted: #404040;      /* Very muted */
    
    /* Accent System */
    --color-accent-primary: #2563eb;  /* Blue accent */
    --color-accent-secondary: #3b82f6;/* Blue hover */
    --color-accent-active: #1d4ed8;   /* Blue active */
    
    /* Legacy RGB Variables for Backward Compatibility */
    --bg-primary: 26 26 26;
    --bg-secondary: 20 20 20;
    --bg-tertiary: 31 31 31;
    --bg-accent: 55 55 55;
    --text-primary: 255 255 255;
    --text-secondary: 161 161 170;
    --text-tertiary: 113 113 122;
    --text-muted: 64 64 64;
    --accent-primary: 37 99 235;
    --accent-hover: 59 130 246;
    --accent-active: 29 78 216;
    
    /* Muted Status Colors */
    --status-success: 34 197 94;   /* #22c55e - muted green */
    --status-warning: 251 191 36;  /* #fbbf24 - muted yellow */
    --status-error: 239 68 68;     /* #ef4444 - muted red */
    --status-info: 153 153 153;    /* #999999 - gray info */
    
    /* Border System */
    --color-border-primary: #27272a;  /* Subtle borders */
    --color-border-secondary: #3f3f46;/* Medium borders */
    --color-border-heavy: #52525b;    /* Heavy borders */
    
    /* Legacy RGB Border Variables */
    --border-default: 39 39 42;
    --border-light: 20 20 20;
    --border-heavy: 82 82 91;
    
    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
    
    /* Gradients */
    --gradient-primary: linear-gradient(135deg, rgb(var(--accent-primary)), rgb(var(--accent-hover)));
    --gradient-dark: linear-gradient(180deg, rgb(var(--bg-primary)), rgb(var(--bg-secondary)));
    
    /* Animations */
    --animation-fast: 150ms;
    --animation-normal: 300ms;
    --animation-slow: 500ms;
    
    /* Spacing */
    --radius-sm: 0.25rem;
    --radius-md: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-xl: 0.75rem;
    --radius-full: 9999px;
  }
}

@layer base {
  /* Design Specification Font System */
  :root {
    --font-sans: 'Roboto', -apple-system, BlinkMacSystemFont, 
                 "Segoe UI", "Helvetica Neue", Arial, "Noto Sans", 
                 sans-serif;
    --font-mono: ui-monospace, SFMono-Regular, "SF Mono", Consolas, 
                 "Liberation Mono", Menlo, monospace;
    
    /* Font Weights */
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    
    /* Font Sizes */
    --text-xs: 0.75rem;
    --text-sm: 0.875rem;
    --text-base: 1rem;
    --text-lg: 1.125rem;
  }
  
  body {
    @apply bg-[var(--color-bg-primary)] text-[var(--color-text-primary)];
    font-family: var(--font-sans);
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold tracking-tight;
    font-family: var(--font-sans);
  }
  
  h1 {
    @apply text-4xl;
  }
  
  h2 {
    @apply text-3xl;
  }
  
  h3 {
    @apply text-2xl;
  }
  
  h4 {
    @apply text-xl;
  }
  
  h5 {
    @apply text-lg;
  }
  
  h6 {
    @apply text-base;
  }
}

@layer components {
  /* Design Specification Compliant Card */
  .card-genspark {
    @apply bg-[var(--color-bg-secondary)] rounded-lg border border-[var(--color-border-primary)];
    @apply hover:border-[var(--color-border-heavy)] transition-colors duration-[var(--animation-normal)];
  }
  
  /* Glow animations */
  @keyframes pulse-slow {
    0%, 100% {
      opacity: 0.3;
    }
    50% {
      opacity: 0.6;
    }
  }
  
  @keyframes pulse-subtle {
    0%, 100% {
      opacity: 0.9;
    }
    50% {
      opacity: 1;
    }
  }
  
  .animate-pulse-slow {
    animation: pulse-slow 4s ease-in-out infinite;
  }
  
  .animate-pulse-subtle {
    animation: pulse-subtle 3s ease-in-out infinite;
  }
  
  /* Genspark-style Button */
  .btn-genspark {
    @apply inline-flex items-center justify-center rounded-md px-4 py-2 font-medium;
    @apply transition-all duration-[var(--animation-normal)];
    @apply focus:outline-none focus:ring-2 focus:ring-[rgb(var(--accent-primary))] focus:ring-offset-2;
    @apply focus:ring-offset-[rgb(var(--bg-primary))];
  }
  
  .btn-primary {
    @apply btn-genspark bg-[rgb(var(--accent-primary))] text-white;
    @apply hover:bg-[rgb(var(--accent-hover))] active:bg-[rgb(var(--accent-active))];
  }
  
  .btn-secondary {
    @apply btn-genspark bg-[rgb(var(--bg-tertiary))] text-[rgb(var(--text-primary))];
    @apply hover:bg-[rgb(var(--bg-accent))] border border-[rgb(var(--border-default))];
  }
  
  .btn-ghost {
    @apply btn-genspark bg-transparent text-[rgb(var(--text-secondary))];
    @apply hover:bg-[rgb(var(--bg-secondary))] hover:text-[rgb(var(--text-primary))];
  }
  
  /* Progress Bar */
  .progress-bar {
    @apply h-2 bg-[rgb(var(--bg-tertiary))] rounded-full overflow-hidden;
  }
  
  .progress-fill {
    @apply h-full bg-gradient-to-r from-[rgb(var(--accent-primary))] to-[rgb(var(--accent-hover))];
    @apply transition-all duration-[var(--animation-slow)] ease-out;
  }
  
  /* Phase Block */
  .phase-block {
    @apply card-genspark p-4 space-y-3;
    @apply transition-all duration-[var(--animation-normal)];
  }
  
  .phase-block.processing {
    @apply border-[rgb(var(--accent-primary))] bg-[rgb(var(--bg-tertiary))];
    @apply animate-pulse;
  }
  
  .phase-block.completed {
    @apply border-[rgb(var(--status-success))];
  }
  
  .phase-block.waiting-feedback {
    @apply border-[rgb(var(--status-warning))];
  }
  
  .phase-block.error {
    @apply border-[rgb(var(--status-error))];
  }
  
  /* Log Entry */
  .log-entry {
    @apply flex gap-3 py-2 px-3 rounded-md font-mono text-sm;
    @apply hover:bg-[rgb(var(--bg-secondary))] transition-colors;
  }
  
  .log-entry.system {
    @apply text-[rgb(var(--text-tertiary))];
  }
  
  .log-entry.phase {
    @apply text-[rgb(var(--status-info))];
  }
  
  .log-entry.feedback {
    @apply text-[rgb(var(--status-warning))];
  }
  
  .log-entry.error {
    @apply text-[rgb(var(--status-error))];
  }
  
  .log-entry.complete {
    @apply text-[rgb(var(--status-success))];
  }
}

@layer utilities {
  /* Custom scrollbar */
  .scrollbar-genspark {
    scrollbar-width: thin;
    scrollbar-color: rgb(var(--bg-accent)) rgb(var(--bg-secondary));
  }
  
  .scrollbar-genspark::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  .scrollbar-genspark::-webkit-scrollbar-track {
    background: rgb(var(--bg-secondary));
    border-radius: var(--radius-sm);
  }
  
  .scrollbar-genspark::-webkit-scrollbar-thumb {
    background: rgb(var(--bg-accent));
    border-radius: var(--radius-sm);
  }
  
  .scrollbar-genspark::-webkit-scrollbar-thumb:hover {
    background: rgb(var(--border-heavy));
  }
  
  /* Animations */
  @keyframes slide-up {
    from {
      transform: translateY(10px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
  
  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  
  @keyframes pulse-genspark {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }
  
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }
  
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  
  .animate-slide-up {
    animation: slide-up var(--animation-normal) ease-out;
  }
  
  .animate-fade-in {
    animation: fade-in var(--animation-normal) ease-out;
  }
  
  .animate-pulse-genspark {
    animation: pulse-genspark 2s ease-in-out infinite;
  }
  
  .animate-shimmer {
    animation: shimmer 1.5s infinite;
  }
  
  .animate-spin {
    animation: spin 1s linear infinite;
  }
}
